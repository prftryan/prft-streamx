<!DOCTYPE html>
<html lang="en">
<head>
  <title>{{name}}</title>
  {{ '{{#include src="/fragments/headContent.html"}}' }}
</head>
  {% set isFeatured = "false" %}
  {% set categoryName = categories[0].name %}
  {% for category in categories %}
    {% if category.name == "Featured" %}
      {% set isFeatured = "true" %}
    {% else %}
      {% set categoryName = category.name %}
    {% endif %}
  {% endfor %}
  <body data-page-type='Product Detail' data-product-details='{"sku":"{{ sku }}","name": "{{ name }}","rating":"3","description":"{{ description }}","category":"{{ categoryName }}","brand":"LumaX","salesOrg":"Perficient","isFeatured":"{{ isFeatured }}",productPrice":"{{ price.value }}"}' data-product-category="{{ categoryName }}" data-product-featured="{{ ifFeatured }}">
  <div class="min-h-screen bg-gray-50 flex flex-col">
    <div class="nav">{{ '{{#include src="/content/psg-demo-ue/nav.html"}}' }}</div>
    <div class="min-h-screen bg-gray-50 flex flex-col">
      <section class="container bg-gray-50 mx-auto px-4 py-12">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
          <div class="space-y-4">
            <div class="w-full aspect-square rounded-lg overflow-hidden">
              <picture>
                <img src="{{ primaryImage.url }}" alt="{{ primaryImage.alt }}" class="w-full h-full object-cover main-image"
                     loading="eager" />
              </picture>
            </div>
            <div class="grid grid-cols-4 gap-2 image-list-container">
              <div
                class="aspect-square rounded-lg overflow-hidden cursor-pointer border-2 hover:border-dsg-red transition-colors">
                <picture>
                  <img src="{{ primaryImage.url }}" alt="{{ primaryImage.alt }}" loading="eager"
                       class="w-full h-full object-cover image-list-item" />
                </picture>
              </div>
              {% for image in gallery %} {% if loop.index <= 5 %}
              <div
                class="aspect-square rounded-lg overflow-hidden cursor-pointer border-2 hover:border-dsg-red transition-colors">
                <picture>
                  <img src="{{ image.url }}" alt="{{ image.alt }}" loading="eager"
                       class="w-full h-full object-cover image-list-item" />
                </picture>
              </div>
              {% endif %} {% endfor %}
            </div>
          </div>
          <div class="space-y-6">
            <h1 class="text-3xl font-bold">{{ name | raw }}</h1>
            <div class="flex items-center">
              {% set rating = 3 %}
              {% set svgClass = 'lucide lucide-star w-5 h-5 fill-yellow-400 text-yellow-400' %}
              {% for i in 1..5 %}
              {% if i > rating %}
              {% set svgClass = 'lucide lucide-star w-4 h-4 text-gray-300' %}
              {% endif %}
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                   stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                   class="{{ svgClass }}">
                <path
                  d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z">
                </path>
              </svg>
              {% endfor %}
            </div>
            {% if price.value %}
            <p class="text-2xl font-bold">${{ price.value }}</p>
            {% endif %}
            <div class="space-y-2">
              <p class="font-medium">Quantity:</p>
              <div class="flex items-center gap-2 quantity-container">
                <button
                  class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]  :pointer-events-none [&_svg]  :size-4 [&_svg]  :shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2"
                  disabled>
                  - 
                </button>
                <span class="quantity w-12 text-center">1</span>
                <button
                  class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]  :pointer-events-none [&_svg]  :size-4 [&_svg]  :shrink-0 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                  +
                </button>
              </div>
            </div>
            <button
              class="addToCart inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 h-10 px-4 py-2 w-full md:w-auto bg-dsg-red hover:bg-dsg-red/90 text-white">
              Add to Cart
            </button>
            <div class="space-y-4">
              <h2 class="text-xl font-semibold">Product Description</h2>
              <div class="space-y-2">
                {{ description | raw }}
              </div>
            </div>
            <div class="space-y-4">
              <h2 class="text-xl font-semibold">Dimensions</h2>
              <ul class="space-y-2">
                {% for attribute in attributes %}
                {% if ((attribute.label | default(attribute.name | capitalize) != 'Keywords')) %}
                <li>
                  {{ attribute.label | default(attribute.name | capitalize) }}:
                  {% for value in attribute.values %}
                  {{ value.value | default('') | replace({'.0': ''}) }} {{ value.valueLabel | default('') }}
                  {% if not loop.last %},
                  {% endif %}
                  {% endfor %}
                </li>
                {% endif %}
                {% endfor %}
              </ul>
            </div>
            <div class="space-y-4">
              <h2 class="text-xl font-semibold">Reviews</h2>
              {% for review in reviews %}
              <div class="border-t pt-4">
                <div class="flex items-center gap-2">
                  <span class="font-medium">{{ review.name }}</span>
                  <div class="flex">
                    {% for i in 1..5 %}
                    {% if review.grade >= i %}
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="lucide lucide-star w-5 h-5 fill-yellow-400 text-yellow-400">
                      <path
                        d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z">
                      </path>
                    </svg>
                    {% else %}
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="lucide lucide-star w-5 h-5 text-gray-300">
                      <path
                        d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z">
                      </path>
                    </svg>
                    {% endif %}
                    {% endfor %}
                    <path
                      d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z">
                    </path>
                    </svg>
                  </div>
                </div>
                <p class="mt-2">{{ review.description }}</p>
              </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Related Products end -->

    {{ '{{#include src="/fragments/footer.html"}}' }}
  </div>
  <script>
    const navBlock = document.querySelector('.nav');
    const logo = navBlock.querySelector('.logo');
  
    const pictureBlock = logo.querySelector('picture');
  
    let anchorElement = document.createElement('a');
    anchorElement.setAttribute('href', '/');
    anchorElement.append(pictureBlock.cloneNode(true));
  
    logo.replaceWith(anchorElement);
  
    const logoAsset = anchorElement.querySelector('img');
    logoAsset.classList.add(...['h-10', 'w-27']);
  
    const container = document.createElement('div');
    container.classList.add(...['container', 'mx-auto', 'px-4', 'py-4']);
  
    const containerInner = document.createElement('div');
    containerInner.classList.add(
      ...['flex', 'items-center', 'justify-between'],
    );
    while (navBlock.firstElementChild) {
      containerInner.append(navBlock.firstElementChild);
    }
  
    const classes = ['brand', 'sections'];
    classes.forEach((className, index) => {
      const section = containerInner.children[index];
      if (section) {
        section.classList.add(`nav-${className}`);
  
        if (index === 1) {
          section.classList.add(
            ...['hidden', 'md:flex', 'items-center', 'space-x-8'],
          );
        }
      }
    });
  
    const navSections = containerInner.querySelector('.nav-sections');
    const navigation = document.createElement('nav');
  
    if (navSections) {
      const unorderedList = navSections.querySelector('ul');
      unorderedList.classList.add(...['flex', 'space-x-6']);
  
      const url = 'https://lumax.streamx.com';
      const anchorLinks = navSections.querySelectorAll('a');
      Array.from(anchorLinks).forEach((anchorLink) => {
        anchorLink.classList.add(...['hover:text-dsg-red']);
  
        const href = anchorLink.getAttribute('href');
  
        if(href.startsWith('/')) {
          anchorLink.setAttribute('href',`${url}${href}`);
        }
      });
  
      while (navSections.firstChild) {
        navigation.appendChild(navSections.firstChild);
      }
      navSections.appendChild(navigation);
    }
  
    const navTools = document.createElement('div');
    navTools.classList.add(
      ...['flex', 'items-center', 'md:space-x-4', 'space-x-2'],
    );
  
    const buttonClassList = [
      '[&_svg]:pointer-events-none',
      '[&_svg]:shrink-0',
      '[&_svg]:size-4',
      'disabled:opacity-50',
      'disabled:pointer-events-none',
      'focus-visible:outline-hidden',
      'focus-visible:ring-2',
      'focus-visible:ring-offset-2',
      'focus-visible:ring-ring',
      'font-medium',
      'gap-2',
      'h-10',
      'hover:bg-accent',
      'hover:text-accent-foreground',
      'inline-flex',
      'items-center',
      'justify-center',
      'ring-offset-background',
      'rounded-md',
      'text-sm',
      'transition-colors',
      'w-10',
      'whitespace-nowrap',
    ];
  
    const accountButton = document.createElement('button');
    accountButton.classList.add(...buttonClassList, ...['relative']);
    accountButton.setAttribute('type', 'button');
  
    const accountIcon = document.createElementNS(
      'http://www.w3.org/2000/svg',
      'svg',
    );
    accountIcon.setAttribute('height', '24');
    accountIcon.setAttribute('width', '24');
    accountIcon.setAttribute('viewBox', '0 0 24 24');
    accountIcon.setAttribute('fill', 'none');
    accountIcon.setAttribute('stroke', 'currentColor');
    accountIcon.setAttribute('stroke-linecap', 'round');
    accountIcon.setAttribute('stroke-linejoin', 'round');
    accountIcon.setAttribute('stroke-width', '2');
    accountIcon.classList.add(...['lucide', 'lucide-user', 'h-5', 'w-5']);
  
    const accountPath = document.createElementNS(
      'http://www.w3.org/2000/svg',
      'path',
    );
    accountPath.setAttribute(
      'd',
      'M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2',
    );
  
    const accountCircle = document.createElementNS(
      'http://www.w3.org/2000/svg',
      'circle',
    );
    accountCircle.setAttribute('cx', '12');
    accountCircle.setAttribute('cy', '7');
    accountCircle.setAttribute('r', '4');
  
    accountIcon.append(accountPath);
    accountIcon.append(accountCircle);
  
    accountButton.append(accountIcon);
  
    const cartButton = document.createElement('button');
  
    cartButton.classList.add(...buttonClassList, ...['relative']);
    cartButton.setAttribute('type', 'button');
  
    const cartIcon = document.createElementNS(
      'http://www.w3.org/2000/svg',
      'svg',
    );
    cartIcon.setAttribute('height', '24');
    cartIcon.setAttribute('width', '24');
    cartIcon.setAttribute('viewBox', '0 0 24 24');
    cartIcon.setAttribute('fill', 'none');
    cartIcon.setAttribute('stroke', 'currentColor');
    cartIcon.setAttribute('stroke-linecap', 'round');
    cartIcon.setAttribute('stroke-linejoin', 'round');
    cartIcon.setAttribute('stroke-width', '2');
  
    cartIcon.classList.add(
      ...['lucide', 'lucide-shopping-cart', 'h-5', 'w-5'],
    );
  
    const cartCircleOne = document.createElementNS(
      'http://www.w3.org/2000/svg',
      'circle',
    );
    cartCircleOne.setAttribute('cx', '8');
    cartCircleOne.setAttribute('cy', '21');
    cartCircleOne.setAttribute('r', '1');
  
    const cartCircleTwo = document.createElementNS(
      'http://www.w3.org/2000/svg',
      'circle',
    );
    cartCircleTwo.setAttribute('cx', '19');
    cartCircleTwo.setAttribute('cy', '21');
    cartCircleTwo.setAttribute('r', '1');
  
    const cartPath = document.createElementNS(
      'http://www.w3.org/2000/svg',
      'path',
    );
    cartPath.setAttribute(
      'd',
      'M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12',
    );
  
    cartIcon.append(cartCircleOne);
    cartIcon.append(cartCircleTwo);
    cartIcon.append(cartPath);
  
    cartButton.append(cartIcon);
  
    const cartQuantity = localStorage.getItem("shoppingCartQuantity");
    const cartQuantityBadge = document.createElement('label');
    cartQuantityBadge.classList.add('cart-quantity', 'w-4','h-4','rounded-full', 'bg-red-600', 'text-white', 'text-[10px]', 'absolute', 'right-0.5', 'top-1');
    cartQuantityBadge.innerText = cartQuantity ? cartQuantity : 0;
    
    cartButton.append(cartQuantityBadge);
  
    const containerMob = document.createElement('div');
    containerMob.classList.add(...['hidden', 'mt-4', 'pb-4']);
  
    const hamburgerBtn = document.createElement('button');
  
    hamburgerBtn.classList.add(...buttonClassList, ...['md:hidden']);
    hamburgerBtn.setAttribute('type', 'button');
  
    const hamburgerIcon = document.createElementNS(
      'http://www.w3.org/2000/svg',
      'svg',
    );
    hamburgerIcon.setAttribute('height', '24');
    hamburgerIcon.setAttribute('width', '24');
    hamburgerIcon.setAttribute('viewBox', '0 0 24 24');
    hamburgerIcon.setAttribute('fill', 'none');
    hamburgerIcon.setAttribute('stroke', 'currentColor');
    hamburgerIcon.setAttribute('stroke-linecap', 'round');
    hamburgerIcon.setAttribute('stroke-linejoin', 'round');
    hamburgerIcon.setAttribute('stroke-width', '2');
  
    hamburgerIcon.classList.add(...['lucide', 'lucide-menu', 'h-5', 'w-5']);
  
    const hamburgerLineOne = document.createElementNS(
      'http://www.w3.org/2000/svg',
      'line',
    );
    hamburgerLineOne.setAttribute('x1', '4');
    hamburgerLineOne.setAttribute('x2', '20');
    hamburgerLineOne.setAttribute('y1', '12');
    hamburgerLineOne.setAttribute('y2', '12');
  
    const hamburgerLineTwo = document.createElementNS(
      'http://www.w3.org/2000/svg',
      'line',
    );
    hamburgerLineTwo.setAttribute('x1', '4');
    hamburgerLineTwo.setAttribute('x2', '20');
    hamburgerLineTwo.setAttribute('y1', '6');
    hamburgerLineTwo.setAttribute('y2', '6');
  
    const hamburgerLineThree = document.createElementNS(
      'http://www.w3.org/2000/svg',
      'line',
    );
    hamburgerLineThree.setAttribute('x1', '4');
    hamburgerLineThree.setAttribute('x2', '20');
    hamburgerLineThree.setAttribute('y1', '18');
    hamburgerLineThree.setAttribute('y2', '18');
  
    hamburgerIcon.append(
      hamburgerLineOne,
      hamburgerLineTwo,
      hamburgerLineThree,
    );
    hamburgerBtn.append(hamburgerIcon);
  
    hamburgerBtn.addEventListener('click', () => {
      if (containerMob.classList.contains('hidden')) {
        containerMob.classList.remove('hidden');
        containerMob.classList.add('md:hidden');
      } else {
        containerMob.classList.remove('md:hidden');
        containerMob.classList.add('hidden');
      }
    });
  
    const searchButtonWrapper = document.createElement('div');
    searchButtonWrapper.classList.add(...['autocomplete']);
  
    navTools.append(searchButtonWrapper);
    navTools.append(accountButton);
    navTools.append(cartButton);
    navTools.append(hamburgerBtn);
  
    containerInner.append(navTools);
  
    const navMobile = document.createElement('div');
    navMobile.classList.add(...['space-y-4']);
  
    const mobileNavigation = navigation.querySelector('ul').cloneNode(true);
    mobileNavigation.classList.remove('space-x-6');
    mobileNavigation.classList.add(...['flex-col', 'space-y-2']);
  
    const mobileAnchorLinks = mobileNavigation.querySelectorAll('a');
    Array.from(mobileAnchorLinks).forEach((mobileAnchorLink) => {
      mobileAnchorLink.classList.add(...['block', 'py-2']);
    });
    navMobile.append(mobileNavigation);
  
    containerMob.append(navMobile);
  
    container.append(containerInner, containerMob);
    navBlock.append(container);
    navBlock.classList.add(
      ...['bg-white', 'border-b', 'border-gray-200', 'w-full'],
    );
  </script>
  </body>

</html>