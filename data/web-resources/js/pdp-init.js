import{addProductToCart as e}from"./productUtilities.js";import{addIncreaseDecreaseQuantityAction as t}from"./add-increase-decrease-quantity-action.js";!function(){let r=new Intl.NumberFormat("en-US",{currency:"USD",style:"currency"}),a=()=>{let e=document.querySelector(".main-image"),t=document.querySelector(".image-list-container");if(e&&t){let r=t=>{let{target:r}=t,{alt:a,src:l}=r;e.alt=a,e.src=l},a=[...t.getElementsByClassName("image-list-item"),];a.forEach(e=>{e.addEventListener("mouseenter",r),e.addEventListener("click",r)})}},l=e=>{let t=e.split(","),r=[];return t.forEach(e=>{let[t,...a]=e.split(":");r[a=a.join(":")]=t}),r},s=(e,t,a)=>{Array.from(e).forEach(e=>{e.addEventListener("click",e=>{let l=e.target.parentElement.querySelector(".active");l&&(l.classList.remove("active"),l.classList.remove("border-black"),l.classList.add("border-transparent")),e.target.classList.add("active"),e.target.classList.add("border-black"),e.target.classList.remove("border-transparent");let s=e.target.getAttribute("title"),i=document.querySelector(".swatch-label");i.textContent=s;let c=document.querySelector(`.image-list-container div[data-color="${s}"] .image-list-item`);c&&c.click();let o,n,d=document.querySelectorAll(".size-buttons button");if(d.length){let u=document.querySelector(".size-buttons button.active")||d[0];n=t[`${s}:${o=u.textContent.trim()}`]}else n=t[`${s}`];let b=document.querySelector("p[data-prices]");n&&b&&(b.innerText=r.format(n));let m=a;o&&(m=`${m}-${o}`),m=`${m}-${s}`,document.body.dataset.sku=m})})},i=(e,t,a)=>{Array.from(e).forEach(e=>{e.addEventListener("click",e=>{let l=e.target.parentElement.querySelector(".active");l&&(l.classList.remove("active"),l.classList.remove("border-2"),l.classList.remove("border-black"),l.classList.add("border-input")),e.target.classList.add("active"),e.target.classList.add("border-2"),e.target.classList.add("border-black"),e.target.classList.remove("border-input");let s=e.target.textContent.trim(),i=document.querySelector(".size-label");i.textContent=s;let c,o,n=document.querySelectorAll(".swatch-buttons button");if(n.length){let d=document.querySelector(".swatch-buttons button.active")||n[0];o=t[`${c=d.getAttribute("title")}:${s}`]}else o=t[`${s}`];let u=document.querySelector("p[data-prices]");u&&(u.innerText=r.format(o));let b=`${a}-${s}`;c&&(b=`${b}-${c}`),document.body.dataset.sku=b})})},c=(e,t)=>{if(e&&e.length){let r=e[0];r.click()}if(t&&t.length){let a=t[0];a.click()}};(()=>{a();let{baseSku:e}=document.body.dataset,t=document.querySelector("p[data-prices]"),r=document.querySelectorAll(".swatch-buttons button"),o=document.querySelectorAll(".size-buttons button");if(t){let{prices:n}=t.dataset,d=l(n);s(r,d,e),i(o,d,e),c(r,o,e)}})(),(()=>{let t=0,r,a=document.querySelector(".quantity"),l=document.querySelector(".addToCart"),s=l=>{a&&(t=parseInt(a?.innerText,10)),r=document.body.dataset.sku,t&&r&&e(r,t,l)};l?.addEventListener("click",s)})(),document.querySelector("footer").removeAttribute("style"),t()}();